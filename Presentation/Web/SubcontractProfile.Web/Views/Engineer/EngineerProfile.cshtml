
@using Microsoft.AspNetCore.Mvc.Localization

@inject IViewLocalizer Localizer

@{ Layout = "~/Views/Shared/_Layout.cshtml"; ViewBag.Title = "Engineer Profile";
}

<div id="pageID" style="display:none;">EngineerProfile</div>

<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 layout-spacing">

    <div class="skills layout-spacing ">
        <div class="widget-content widget-content-area">
            <h3 class="">@Localizer["Engineer"]</h3>

            <div class="widget-content1">

                <div class="form-row mb-4">


                    <div class="form-group col-md-6">
                        <label for="ddlLocationName">@Localizer["LocationName"]</label>
                        <select id="ddlLocationName" class="form-control" required></select>

                    </div>
                    <div class="form-group col-md-6">
                        <label for="ddlTeamName">@Localizer["TeamNameTH"]</label>
                        <select id="ddlTeamName" class="form-control " required></select>
                    </div>

                    <div class="form-group col-md-6">
                        <label for="inputStaffName">@Localizer["StaffName"]</label>
                        <input type="text" class="form-control" id="inputStaffName" placeholder="Staff Name">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="inputCitizen">@Localizer["IDCard"]</label>
                        <input type="text" class="form-control" id="inputCitizen" maxlength="13" onkeypress="return isNumberKey(event);" placeholder="เลขบัตรประชาชน">
                    </div>

                    <div class="form-group col-md-6">
                        <label for="inputPosition">@Localizer["Postion"]</label>
                        @*<input type="text" class="form-control" id="inputPosition" placeholder="ตำแหน่ง">*@
                        <select id="inputPosition" name="inputPosition" class="form-control">
                        </select>
                    </div>


                </div>

                <div style="text-align:center">

                    <button id="btnMainClearLoc" type="button" class="btn btn-dark mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                             stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="15" y1="9" x2="9" y2="15"></line>
                            <line x1="9" y1="9" x2="15" y2="15"></line>
                        </svg> @Localizer["Reset"]
                    </button>
                    <button id="btnSearchLoc" type="button" class="btn btn-success mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                             stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg> @Localizer["Search"]
                    </button>

                </div>


            </div>


            <br />
            <div class="widget-heading">
                <h3 class="">@Localizer["SearchResult"]</h3>

            </div>
            <div class="col-md-12 text-right mb-1">
                <button id="btnAdd" type="button" class="btn btn-success mb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                         stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="16"></line>
                        <line x1="8" y1="12" x2="16" y2="12"></line>
                    </svg> @Localizer["Add"]
                </button>

            </div>


            <div class="table-responsive">
                <table id="tbSearchResult" class="table table-bordered table-hover table-striped table-checkable table-highlight-head mb-4">
                    <thead>
                        <tr>
                            <th class="text-center">@Localizer["Edit"]</th>
                            <th>@Localizer["LocationName"] </th>
                            <th>@Localizer["TeamName"]</th>
                            <th>@Localizer["StaffNameThai"] </th>
                            <th style="width:40%">@Localizer["StaffNameEnglish"]</th>
                            <th style="width:25%">@Localizer["Postion"]</th>
                        </tr>
                    </thead>
                </table>
            </div>

        </div>
    </div>

</div>


@section modalpanel {

    <div id="AddEditModal" class="modal fade" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 id="hTitleEdit" class="modal-title">@Localizer["EditEngineet"]</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form id="frNew" class="needs-validation" novalidate>
                    <div class="modal-body">
                        <div class="border-tab">
                            <ul class="nav nav-tabs mt-3" id="simpletab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="engineer-tab" data-toggle="tab" href="#home" role="tab"
                                       aria-controls="home" aria-selected="true">@Localizer["Engineer"]</a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" id="prosonal-tab" data-toggle="tab" href="#personal" role="tab" aria-controls="contact"
                                       aria-selected="false">@Localizer["Personal"]</a>
                                </li>

                            </ul>

                            <div class="tab-content mb-4" id="simpletabContent">
                                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                                    <div id="Engineer">
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["CompanyName"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <label id="lblcompanyName"></label>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span>@Localizer["LocationName"]:</label>

                                            </div>
                                            <div class="col-sm-4">
                                                <select id="Location" name="Location" style="width:300px" class="form-control" required>
                                                </select>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorLocationName"]
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["TeamName"]:</label>

                                            </div>
                                            <div class="col-sm-4">
                                                <select id="Team" name="Team" style="width:300px" class="form-control" required>
                                                </select>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorTeamName"]
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        @*<div class="row">
                                                <div class="col-sm-2">
                                                    <label><span style="color:red">*</span> Staff Code:</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="text" id="StaffCode" style="width:300px" class="form-control" required>
                                                    <div class="invalid-feedback">
                                                        กรุณาเลือกข้อมูล Staff Code.
                                                    </div>
                                                </div>

                                            </div>
                                            <br />*@
                                        <div class="row">
                                            @*<div class="col-sm-2">
                                                    <label><span style="color:red">*</span>@Localizer["StaffName"]:</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="text" id="StaffName" maxlength="100" style="width:300px" class="form-control" required>
                                                    <div class="invalid-feedback">
                                                        @Localizer["ErrorStaffName"]
                                                    </div>
                                                </div>*@
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span>  @Localizer["StaffNameThai"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="StaffNameT" style="width:300px" maxlength="100" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorStaffNameThai"]
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label> @Localizer["StaffNameEnglish"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="StaffNameE" style="width:300px" maxlength="100" class="form-control">
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">

                                            <div class="col-sm-2">
                                                <label>@Localizer["Postion"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                @*<input type="text" id="Position" maxlength="100" style="width:300px" class="form-control">*@
                                                <select id="Position" name="Position" style="width:300px" class="form-control">
                                                </select>

                                            </div>
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span>@Localizer["IDCard"]</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="CitizenID" maxlength="13" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorIDCard"]
                                                </div>
                                                <span id='errorlengthidcard'
                                                      style="color:red;display:none;font-family:db_helvethaica_x55_regular;font-size:18px;"> @Localizer["CheckIDCardLength"]</span>

                                               
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">

                                            <div class="col-sm-2">
                                                <label>@Localizer["AttachIDCard"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="row col-sm-12">
                                                    <div class="custom-file mb-4">
                                                        <input type="hidden" id="hdupfilepersonalAttah" />
                                                        <input type="file" class="custom-file-input" id="personalAttahFile" aria-describedby="uploadlHelp1" style="width:190px"
                                                               accept="image/jpeg,image/gif,image/png,image/bmp,image/tif,image/tiff,application/pdf">
                                                        <label class="custom-file-label" for="inputBankAttach" id="lbpersonalAttahFile">@Localizer["ChooseFile"]</label>
                                                    </div>
                                                    <div id="targetDiv" class="row">
                                                        <a id="linkdownloadpersonal" href="#" target="_blank"></a>
                                                    </div>
                                                    <div class="row">
                                                        <small id="uploadlHelp1" class="form-text text-muted">@Localizer["ChooseFileType"]</small>
                                                        <small id="uploadlHelp1" class="form-text text-muted" style="margin-top:0;">
                                                            @Localizer["SizeFile"]
                                                        </small>
                                                    </div>




                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["SizeClothes"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                @*<input type="text" id="tshirtsize" maxlength="50" style="width:300px" class="form-control">*@
                                                <select id="tshirtsize" name="tshirtsize" style="width:300px" class="form-control">
                                                </select>
                                            </div>
                                        </div>

                                        @*<div class="row">

                                            </div>*@
                                        <br />

                                        <h5>@Localizer["ContractInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["Tel"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="ContractPhone1" maxlength="20" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorTel"]
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["Tel2"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="ContractPhone2" maxlength="20" style="width:300px" class="form-control">
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["Email"]:</label>
                                            </div>
                                            <div class="col-sm-10">
                                                <input type="email" id="ContractEmail" maxlength="100" style="width:300px" class="form-control">
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorEmail"]
                                                </div>
                                            </div>
                                        </div>
                                        <br />

                                        <h5>@Localizer["CarInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>
                                                    @Localizer["CarType"]:
                                                </label>
                                            </div>
                                            <div class="col-sm-4">

                                                @*<input type="text" id="VehicleType" maxlength="100" style="width:300px" class="form-control">*@
                                                <select id="VehicleType" name="VehicleType" style="width:300px" class="form-control select2-container ddlsearch">
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <label> @Localizer["CarBrand"]:</label>
                                            </div>
                                            <div class="col-sm-4">

                                                @*<input type="text" id="VehicleBrand" maxlength="100" style="width:300px" class="form-control">*@
                                                <select id="VehicleBrand" name="VehicleBrand" style="width:300px" class="form-control select2-container ddlsearch">
                                                </select>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["CarModel"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                @*<input type="text" id="VehicleSerise" maxlength="100" style="width:300px" class="form-control">*@
                                                <select id="VehicleSerise" name="VehicleSerise" style="width:300px" class="form-control select2-container ddlsearch">
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["CarColor"]:</label>
                                            </div>
                                            <div class="col-sm-4">

                                                <input type="text" id="VehicleColor" maxlength="100" style="width:300px" class="form-control">
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["CarYears"]:</label>
                                            </div>
                                            <div class="col-sm-4">

                                                <input type="text" id="VehicleYear" maxlength="100" style="width:300px" class="form-control">
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["LicensePlate"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="VehicleLicense" maxlength="100" style="width:300px" class="form-control">
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["AttachCarPic"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="custom-file mb-4">
                                                    <input type="hidden" id="hdupfilevehicleAttach" />
                                                    <input type="file" class="custom-file-input" id="vehicleAttachFile" aria-describedby="uploadlHelp1" style="width:190px"
                                                           accept="image/jpeg,image/gif,image/png,image/bmp,image/tif,image/tiff,application/pdf">
                                                    <label class="custom-file-label" for="inputBankAttach" id="lbvehicleAttachFile">@Localizer["ChooseFile"]</label>
                                                </div>
                                                <div id="targetDiv" class="row">
                                                    <a id="linkdownloadvehicle" href="#" target="_blank"></a>
                                                </div>
                                                <div class="row">
                                                    <small id="uploadlHelp1" class="form-text text-muted">@Localizer["ChooseFileType"]</small>
                                                    <small id="uploadlHelp1" class="form-text text-muted" style="margin-top:0;">
                                                        @Localizer["SizeFile"]
                                                    </small>
                                                </div>



                                            </div>
                                        </div>
                                        <br />

                                        <h5>@Localizer["EquipmentInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>
                                                    @Localizer["OTDR"]:
                                                </label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="Toolotdr" maxlength="100" style="width:300px" class="form-control">
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["Toolsplicing"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="ToolSplicing" maxlength="100" style="width:300px" class="form-control">
                                            </div>
                                        </div>
                                        <br />

                                        <h5>@Localizer["BankInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["BankName"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <select id="ddlBankName" name="BankName" style="width: 300px;" class="form-control select2-container ddlsearch" required>
                                                </select>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorBankName"]
                                                </div>
                                            </div>
                                            @*<div class="col-sm-2">
                                                    <label>Bank Code:</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="text" id="BankCode" style="width:300px" class="form-control">
                                                </div>*@
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["AccountNumber"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="AccNo" maxlength="100" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorAccountNumber"]
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["AccountName"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="AccName" maxlength="100" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorAccountName"]
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                <div class="tab-pane fade" id="personal" role="tabpanel" aria-labelledby="profile-tab">
                                    <div id="Personal">
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["IDCard"] :</label>
                                            </div>
                                            <div class="col-sm-10">
                                                <input type="text" id="CitizenID2" maxlength="13" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorIDCard"]
                                                </div>
                                                <span id='errorlengthidcard2'
                                                      style="color:red;display:none;font-family:db_helvethaica_x55_regular;font-size:18px;"> @Localizer["CheckIDCardLength"]</span>

                                                </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["TitleName"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <select id="Title" name="Title" style="width:300px" class="form-control" required>
                                                </select>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorTitleName"]
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["FirstNameLastNameThai"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="FullNameT" maxlength="100" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorFirstNameLastNameThai"]
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["FirstNameLastNameEnglish"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="FullNameE" maxlength="100" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorFirstNameLastNameEnglish"]
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["BirthDate"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="row col-sm-12">
                                                    @*<input type="text" id="" style="width:280px" class="form-control">*@
                                                    <div class='input-group p-0 date' id='dateBirthDate'>
                                                        <input type='text' class="form-control" id="BirthDate" />
                                                        <div class="input-group-append input-group-addon">
                                                            <span class="input-group-text px-4">
                                                                <i class="fa fa-calendar"></i>
                                                            </span>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["Gender"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="radio" id="rdoMale" name="Gender" value="M" checked>
                                                <label for="Male">@Localizer["Male"]</label>&nbsp;&nbsp;
                                                <input type="radio" id="rdoFeMale" name="Gender" value="F">
                                                <label for="FeMale">@Localizer["Female"]</label>
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["Race"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="Race" maxlength="100" class="form-control" style="width:300px">

                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["Nationality"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="Nationality" maxlength="100" class="form-control" style="width:300px">
                                                @*<select id="Nationality" name="Nationality" style="width:300px" class="form-control">
                                                    </select>*@
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["Religion"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="Religion" maxlength="100" class="form-control" style="width:300px">
                                                @*<select id="Religion" name="Religion" style="width:300px" class="form-control">
                                                    </select>*@
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["CardType"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="Identity" maxlength="100" style="width:300px" class="form-control">
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["Email"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="email" id="ContractEmail2" maxlength="100" style="width:300px" class="form-control">
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorEmail"]
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label> @Localizer["PermanentAddress"] :</label>
                                            </div>
                                            <div class="col-sm-10">
                                                <textarea id="IdentiAddress" class="form-control" rows="2" style="width:300px;"></textarea>
                                            </div>
                                        </div>
                                        <br />

                                        <h5>@Localizer["ContractInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span> @Localizer["Tel"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="PersonalContractPhone1" maxlength="20" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorTel"]
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["Tel2"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="PersonalContractPhone2" maxlength="20" style="width:300px" class="form-control">
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["Email"] :</label>
                                            </div>
                                            <div class="col-sm-10">
                                                <input type="email" id="ContractMail" maxlength="100" style="width:300px" class="form-control">
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorEmail"]
                                                </div>
                                            </div>
                                        </div>
                                        <br />

                                        <h5>@Localizer["WorkExperience"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["WorkPermitNo"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="WorkPermit" maxlength="100" style="width:300px" class="form-control">
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["AttachWorkPermit"]:</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="custom-file mb-4">
                                                    <input type="hidden" id="hdupfileWorkPermitAttach" />
                                                    <input type="file" class="custom-file-input" id="fileWorkPermitAttach" aria-describedby="uploadlHelp1" style="width:220px"
                                                           accept="image/jpeg,image/gif,image/png,image/bmp,image/tif,image/tiff,application/pdf">
                                                    <label class="custom-file-label" for="fileWorkPermitAttach" id="lbfileWorkPermitAttach">@Localizer["ChooseFile"]</label>
                                                </div>
                                                <div id="targetDiv" class="row">
                                                    <a id="linkdownloadfileWorkPermit" href="#" target="_blank"></a>
                                                </div>
                                                <div class="row">
                                                    <small id="uploadlHelpwork" class="form-text text-muted">@Localizer["ChooseFileType"]</small>
                                                    <small id="uploadlHelp1" class="form-text text-muted" style="margin-top:0;">
                                                        @Localizer["SizeFile"]
                                                    </small>
                                                </div>


                                                @*<div class="row col-sm-12">


        </div>*@
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["AttachProfile"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="custom-file mb-4">
                                                    <input type="hidden" id="hdupfileProfileAttach" />
                                                    <input type="file" class="custom-file-input" id="fileProfileAttach" aria-describedby="uploadlHelp1" style="width:220px"
                                                           accept="image/jpeg,image/gif,image/png,image/bmp,image/tif,image/tiff,application/pdf">
                                                    <label class="custom-file-label" for="fileProfileAttach" id="lbfileProfileAttach">@Localizer["ChooseFile"]</label>
                                                </div>
                                                <div id="targetDiv" class="row">
                                                    <a id="linkdownloadfileProfile" href="#" target="_blank"></a>
                                                </div>
                                                <div class="row">
                                                    <small id="uploadlHelpprofile" class="form-text text-muted">@Localizer["ChooseFileType"]</small>
                                                    <small id="uploadlHelp1" class="form-text text-muted" style="margin-top:0;">
                                                        @Localizer["SizeFile"]
                                                    </small>
                                                </div>



                                            </div>
                                            @*<div class="col-sm-2">
                                                    <label>Course skill :</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="text" id="CourseSkill" style="width:300px" class="form-control">
                                                </div>*@
                                        </div>
                                        <br />

                                        <h5>@Localizer["EducationInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["Education"] :</label>
                                            </div>
                                            <div class="col-sm-10">
                                                <textarea id="Education" class="form-control" rows="2" style="width:880px;"></textarea>
                                            </div>
                                        </div>
                                        <br />

                                        <h5>@Localizer["LanguageInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["Language"] :</label>
                                            </div>
                                            <div class="col-sm-2">
                                                <input id="chkListenTH" type="checkbox" value="Y" />
                                                <label>@Localizer["ListeningThai"]</label><br />
                                                <input id="chkSpeakingTH" type="checkbox" value="Y" />
                                                <label>@Localizer["SpeakingThai"]</label><br />
                                                <input id="chkReadingTH" type="checkbox" value="Y" />
                                                <label>@Localizer["ReadingThai"]</label><br />
                                                <input id="chkWritingTH" type="checkbox" value="Y" />
                                                <label>@Localizer["WritingThai"]</label><br />
                                            </div>
                                            <div class="col-sm-8">
                                                <input id="chkListenEN" type="checkbox" value="Y" />
                                                <label>@Localizer["ListeningEng"]</label><br />
                                                <input id="chkSpeakingEN" type="checkbox" value="Y" />
                                                <label>@Localizer["SpeakingEng"]</label><br />
                                                <input id="chkReadingEN" type="checkbox" value="Y" />
                                                <label>@Localizer["ReadingEng"]</label><br />
                                                <input id="chkWritingEN" type="checkbox" value="Y" />
                                                <label>@Localizer["WritingEng"]</label><br />
                                            </div>
                                        </div>
                                        <br />

                                        <h5>@Localizer["CertificateInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["CertificateType"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="CertificateType" maxlength="100" style="width:300px" class="form-control">

                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["CertificateNo"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="CertificateNo" maxlength="100" style="width:300px" class="form-control">
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>@Localizer["CertificateExpireDate"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="row col-sm-12">
                                                    @*<input type="text" id="" style="width:280px" class="form-control">
                                                        <input id="dateCertificateDate" style="width:220px" type="text" placeholder="Select Date.." data-provide="datepicker" >*@
                                                    <div class='input-group p-0 date' id='datepickerCertificateDAte'>
                                                        <input type='text' class="form-control" id="dateCertificateDAte" />
                                                        <div class="input-group-append input-group-addon">
                                                            <span class="input-group-text px-4">
                                                                <i class="fa fa-calendar"></i>
                                                            </span>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label>@Localizer["AttachCertificate"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="custom-file mb-4">
                                                    <input type="hidden" id="hdupfileCertificateAttach" />
                                                    <input type="file" class="custom-file-input" id="fileCertificateAttach" aria-describedby="uploadlHelp1" style="width:220px"
                                                           accept="image/jpeg,image/gif,image/png,image/bmp,image/tif,image/tiff,application/pdf">
                                                    <label class="custom-file-label" for="fileCertificateAttach" id="lbfileCertificateAttach">@Localizer["ChooseFile"]</label>
                                                </div>
                                                <div id="targetDiv" class="row">
                                                    <a id="linkdownloadfileCertificate" href="#" target="_blank"></a>
                                                </div>
                                                <div class="row">
                                                    <small id="uploadlHelpCertificateAttach" class="form-text text-muted">@Localizer["ChooseFileType"]</small>
                                                    <small id="uploadlHelp1" class="form-text text-muted" style="margin-top:0;">
                                                        @Localizer["SizeFile"]
                                                    </small>
                                                </div>




                                            </div>
                                        </div>
                                        <br />

                                        <h5>@Localizer["BankInformation"]</h5>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label> <span style="color:red">*</span> @Localizer["BankName"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <select id="BankName2" name="BankName2" style="width:300px" class="form-control select2-container ddlsearch" required>
                                                </select>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorBankName"]
                                                </div>
                                            </div>

                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label> <span style="color:red">*</span> @Localizer["AccountNumber"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="AccNo2" maxlength="100" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorAccountNumber"]
                                                </div>
                                            </div>
                                            <div class="col-sm-2">
                                                <label><span style="color:red">*</span>@Localizer["AccountName"] :</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="text" id="AccName2" maxlength="100" style="width:300px" class="form-control" required>
                                                <div class="invalid-feedback">
                                                    @Localizer["ErrorAccountName"]
                                                </div>
                                            </div>
                                        </div>
                                        <br />

                                    </div>

                                </div>
                            </div>
                        </div>

                        <input type="hidden" id="hdMode">
                        <input type="hidden" id="hdEngineerId">
                        <input type="hidden" id="hdCompanyId">
                        <input type="hidden" id="hdPersonalId">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-power"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line></svg>
                            @Localizer["Close"]
                        </button>
                        <button id="btnSave" type="button" class="btn btn-primary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-save"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>
                            @Localizer["Save"]
                        </button>
                    </div>
                </form>

            </div>
        </div>
    </div>
}

@section scripts {

    <script type="text/javascript">
        var oTable;
        $(document).ready(function () {

            GetDropDownLocationSearch();
            getTeamByLocationId();
            GetDropDownLocationEdit();
            GetDropDownBank();
            GetDropDownBankPersonal();
            GetDropDownTitle();

            GetDropDownPosition();
            GetDDLVehicleType();
            GetDDLVehicleBrand();
            GetDDLVehicleSerise();
            GetDropDownSizeShirt();


            $(".ddlsearch").select2({
                dropdownParent: $('#AddEditModal .modal-content')
            });

            $('#dateBirthDate').datetimepicker({
                format: "DD/MM/YYYY",
                showClear: true,
                showClose: true,
                icons: {
                    time: 'fa fa-clock-o',
                    date: 'fa fa-calendar',
                    up: 'fa fa-chevron-up',
                    down: 'fa fa-chevron-down',
                    previous: 'fa fa-chevron-left',
                    next: 'fa fa-chevron-right',
                    today: 'icon-screenshot',
                    clear: 'fa fa-trash',
                    close: 'fa fa-time'
                }
            });

            $('#datepickerCertificateDAte').datetimepicker({
                format: "DD/MM/YYYY",
                showClear: true,
                showClose: true,
                icons: {
                    time: 'fa fa-clock-o',
                    date: 'fa fa-calendar',
                    up: 'fa fa-chevron-up',
                    down: 'fa fa-chevron-down',
                    previous: 'fa fa-chevron-left',
                    next: 'fa fa-chevron-right',
                    today: 'icon-screenshot',
                    clear: 'fa fa-trash',
                    close: 'fa fa-time'
                }
            });
            $("#inputCitizen").keyup(function () {
                CheckKeyUps("inputCitizen", "[0-9]");
            });

            $('#personalAttahFile').change(function (e) {
                e.preventDefault();
                CheckFileUpload('personalAttahFile');
            });
            $('#vehicleAttachFile').change(function (e) {
                e.preventDefault();
                CheckFileUpload('vehicleAttachFile');
            });
            $('#fileWorkPermitAttach').change(function (e) {
                e.preventDefault();
                CheckFileUpload('fileWorkPermitAttach');
            });
            $('#fileProfileAttach').change(function (e) {
                e.preventDefault();
                CheckFileUpload('fileProfileAttach');
            });
            $('#fileCertificateAttach').change(function (e) {
                e.preventDefault();
                CheckFileUpload('fileCertificateAttach');
            });

            $(".custom-file-input").on("change", function () {
                var fileName = $(this).val().split("\\").pop();
                $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
            });

            $('#ddlLocationName').change(function () {
                getTeamByLocationId($(this).val());
            });

            $('#CitizenID').keyup(function () {
                CheckKeyUps("CitizenID", "[0-9]");
            });

            $('#CitizenID2').keyup(function () {
                CheckKeyUps("CitizenID2", "[0-9]");
            });


            inittbSearchResult();
            $("#btnSearchLoc").click(function (e) {

                inittbSearchResult();

            });

            $("#btnMainClearLoc").click(function (e) {
                clearMainData();
            });

            $("#btnAdd").click(function (e) {
                openModal("new", "");
            });

            $('#btnSave').click(function () {
                var haserror = false;
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    //if (Validateform() || ValidateUpload()) {
                    if (Validateform()) {
                        event.preventDefault();
                        event.stopPropagation();
                        haserror = true;
                    }
                    else if ($('#CitizenID').val() != '' || $('#CitizenID2').val() != '') {
                        var lenEngineer = $('#CitizenID').val().length;
                        var lenPersonal = $('#CitizenID2').val().length;

                        if (lenEngineer != 13) {
                            $('#errorlengthidcard').show();
                            event.preventDefault();
                            event.stopPropagation();

                            haserror = true;
                        }
                        else {
                            $('#errorlengthidcard').hide();
                        }

                        if (lenPersonal != 13) {
                            $('#errorlengthidcard2').show();
                            haserror = true;
                        }
                        else {
                            $('#errorlengthidcard2').hide();
                        }
                    }
                
                        if (!haserror) {
                            onSave();
                        }
                            
                      

              
                    form.classList.add('was-validated');

                });
            });
            $("#Location").on("change", function () {

                getTeamByLocationIdEdit($('#Location option').filter(':selected').val());

            });

            $("#VehicleBrand").on("change", function () {
                GetDDLVehicleSerise($("#VehicleBrand option").filter(':selected').val());
            });


            $(document).on('show.bs.modal', '.modal', function () {
                var zIndex = 1040 + (10 * $('.modal:visible').length);
                $(this).css('z-index', zIndex);
                setTimeout(function () {
                    $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
                }, 0);
            });

            $(document).on('hidden.bs.modal', '.modal', function () {
                $('.modal:visible').length && $(document.body).addClass('modal-open');
            });
        });

            //'use strict';
            //window.addEventListener('load', function () {
            //    // Fetch all the forms we want to apply custom Bootstrap validation styles to
            //    var forms = document.getElementsByClassName('needs-validation');
            //  //  var forms = document.getElementsByClassName('select');
            //    var invalid = $('.select .invalid-feedback');
            //    // Loop over them and prevent submission
            //    var validation = Array.prototype.filter.call(forms, function (form) {
            //        form.addEventListener('submit', function (event) {

            //            if (form.checkValidity() === false || ValidateUpload()) {
            //                event.preventDefault();
            //                event.stopPropagation();
            //                invalid.css('display', 'block');
            //            } else {
            //                onSave();
            //                event.preventDefault();
            //                event.stopPropagation();
            //                invalid.css('display', 'none');

            //            }
            //            form.classList.add('was-validated');
            //        }, false);
            //    });
            //}, false);

        function inittbSearchResult() {

            var oTable = $('#tbSearchResult').DataTable({
                processing: true, // for show progress bar
                serverSide: true, // for process server side
                filter: false, // this is for disable filter (search box)
                orderMulti: false, // for disable multiple column at once
                pageLength: 10,
                order: [],
                autoWidth: false,
                searching: false,
                destroy: true,
                lengthChange: false,
                "oLanguage": {
                    "oPaginate": { "sPrevious": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>', "sNext": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>' },
                    "sInfo": "Showing page _PAGE_ of _PAGES_",
                    "sSearch": false,
                    "sLengthMenu": "Results :  _MENU_",
                },
                 "scrollX": false,
                  "language": {
                  "zeroRecords": "No data found.",
                   "decimal": ",",
                  "thousands": "."
                    },
                    ajax: {
                        url: '@Url.Action("Search", "Engineer")',
                        type: "POST",
                        datatype: "JSON",
                        //dataSrc:"",
                        data: function (d) {
                               d.locationId = $("select[id$=ddlLocationName]").val(),
                               d.teamId = $("select[id$=ddlTeamName]").val(),
                               d.staffName = $("#inputStaffName").val(),
                               d.teamCitizen = $("#inputCitizen").val(),
                                   d.position = $("#inputPosition option").filter(':selected').val()


                        }
                    },
                    columns: [

                        {
                            data: null, width: "10%", render: function (data, type, row) {

                                if (row.CompanyStatus == 'A') {
                                    return "  <ul class='table-controls'><li> <a href='#' onclick=openModal('edit','" + row.EngineerId + "');\
                                return false;  data-toggle='modal' data-target='.bd-addedit-modal-xl' data-original-title='@Localizer["Edit"]'>\
                                <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor'\
                                    stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-edit'>\
                                <path d='M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7'></path><path d='M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z'></path></svg></a></li> </ul>";

                                }
                                else {
                                    return "  <ul class='table-controls'><li> <a href='#' onclick=openModal('edit','" + row.EngineerId + "');\
                                return false;  data-toggle='modal' data-target='.bd-addedit-modal-xl' data-original-title='@Localizer["Edit"]'>\
                                <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor'\
                                    stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-edit'>\
                                <path d='M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7'></path><path d='M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z'></path></svg></a></li> <li>\
                                <a onclick=deleteData('" + row.EngineerId + "');return false; href='#'  data-toggle='tooltip' data-placement='top' title='Delete'><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-trash-2'><polyline points='3 6 5 6 21 6'></polyline><path d='M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2'></path><line x1='10' y1='11' x2='10' y2='17'></line><line x1='14' y1='11' x2='14' y2='17'></line></svg></a>";
                                }
                            }
                           // orderable: false,
                            //className: 'text-center'
                        },
                        { "data": "LocationNameTh", "width": "25%"  },
                        { "data": "TeamNameTh", "width": "25%" },
                        { "data": "StaffNameTh", "width": "25%" },
                        { "data": "StaffNameEn", "width": "25%" },
                        { "data": "Position", "width": "20%" }


                ],
                "order": [[0, "desc"]],
                "stripeClasses": [],
                drawCallback: function () { $('.dataTables_paginate > .pagination').addClass(' pagination-style-13 pagination-bordered mb-5'); }

                });

        }


        function openModal(mode, engineerId) {

            clearData();

            $('#hdMode').val(mode);
            $('#hdEngineerId').val(engineerId);

            if (mode == "edit") {
                //$("#txtCompanyCode").prop("disabled", true);
                $("#hTitleEdit").text('@Localizer["EditEngineer"]');

                getDataById(engineerId);
            }
            else {
                $("#hTitleEdit").text('@Localizer["AddEngineer"]');

                $('#lblcompanyName').html('');
                $("#btnSave").show();
            }
            $('#engineer-tab').trigger('click');
            $('#AddEditModal').modal('show');

        }

        function clearMainData() {
            $("#ddlLocationName").val('-1');
                $("#ddlTeamName").val('-1');
                //$("#inputStaffName").val('');
                $("#inputCitizen").val('');
                $("#inputPosition").val('');
            inittbSearchResult();
        }

        function clearData() {

            $('#errorlengthidcard').hide();
            $('#errorlengthidcard2').hide();

            $("#frNew")[0].reset();

            $('#frNew').removeClass('was-validated')

            $("#ddlBankName").val('').change();
            $("#BankName2").val('').change();

            $('#hdupfilepersonalAttah').val('');
            $('#personalAttahFile').val('');
            $('#lbpersonalAttahFile').text('@Localizer["ChooseFile"]');

            $('#hdupfilevehicleAttach').val('');
            $('#vehicleAttachFile').val('');
            $('#lbvehicleAttachFile').text('@Localizer["ChooseFile"]');

            $('#hdupfileWorkPermitAttach').val('');
            $('#fileWorkPermitAttach').val('');
            $('#lbfileWorkPermitAttach').text('@Localizer["ChooseFile"]');

            $('#hdupfileProfileAttach').val('');
            $('#fileProfileAttach').val('');
            $('#lbfileProfileAttach').text('@Localizer["ChooseFile"]');

            $('#hdupfileCertificateAttach').val('');
            $('#fileCertificateAttach').val('');
            $('#lbfileCertificateAttach').text('@Localizer["ChooseFile"]');

        }
        function GetDropDownPosition() {
             $.ajax({
            type: 'POST',
            url: '@Url.Action("GetPosition", "Engineer")',
           // data: {stateid:stateid},
            dataType: 'json',
            success: function (data) {

                $("#Position").empty();
                $("#Position").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');

                $("#inputPosition").empty();
                $("#inputPosition").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');

                $.each(data, function (id, result) {
                    $("#Position").append('<option value="' + result.dropdown_value + '">' + result.dropdown_text +'</option>');


                $("#inputPosition").append('<option value="' + result.dropdown_value + '">' + result.dropdown_text + '</option>');
                 });

                },
                failure: function () {
                    $("#Position").empty();
                    $("#Position").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');

                    $("#inputPosition").empty();
                    $("#inputPosition").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
        }


        function getLocationCodeById(locationId) {
              $.ajax({
                  url: '@Url.Action("GetDataById", "Location")',
                  type: 'POST',
                  data: { 'locationId': locationId},
                  dataType: "json",
                  success: function (result) {
                //  console.log(result)
                  if (result != null) {

                      $('#locationCode').val(result.LocationCode);


                    }
                  },
                  error: function (result) {

                  }

            });
        }


        function getDataById(id) {

              $.ajax({
                  url: '@Url.Action("GetDataById", "Engineer")',
                  type: 'POST',
                  data: { 'engineerId': id},
                  dataType: "json",
                  async: false,
                  success: function (result) {
                //  console.log(result)
                      if (result != null) {
                          if (result.CompanyStatus == 'A') {
                              $("#btnSave").hide();
                          } else {
                              $("#btnSave").show();
                          }

                          getTeamByLocationIdEdit(result.LocationId);

                          $("#Location").val(result.LocationId);
                         // $("#Location").trigger('change');

                          $('#hdEngineerId').val(result.EngineerId);



                          $('#lblcompanyName').html(result.CompanyNameTh);
                         // $('#StaffName').val(result.StaffName);
                          $('#StaffNameT').val(result.StaffNameTh);
                          $('#StaffNameE').val(result.StaffNameEn);
                          $('#Position').val(result.Position);
                          $('#CitizenID').val(result.CitizenId);
                          $('#tshirtsize').val(result.TshirtSize);
                          $('#ContractPhone1').val(result.ContractPhone1);
                          $('#ContractPhone2').val(result.ContractPhone2);
                          $('#ContractEmail').val(result.ContractEmail);
                          $('#VehicleType').val(result.VehicleType).change();


                          $('#VehicleBrand').val(result.VehicleBrand).change();
                          $('#VehicleBrand').trigger('change');



                          $('#VehicleColor').val(result.VehicleColor);
                          $('#VehicleYear').val(result.VehicleYear);
                          $('#VehicleLicense').val(result.VehicleLicensePlate);
                          $('#Toolotdr').val(result.ToolOtrd);
                          $('#ToolSplicing').val(result.ToolSplicing);

                          $("#ddlBankName").val(result.BankCode).change();
                          $('#AccNo').val(result.AccountNo);
                          $('#AccName').val(result.AccountName);

                          $('#hdCompanyId').val(result.CompanyId);

                          if (result.PersonalAttachFile != null) {
                              $('#lbpersonalAttahFile').html(result.PersonalAttachFile);
                              $('#hdupfilepersonalAttah').val(result.file_id__PersonalAttach);

                              $('#linkdownloadpersonal').text(result.PersonalAttachFile);
                              DownloadFile(result.PersonalAttachFile, $('#linkdownloadpersonal'), $('#hdEngineerId').val(), 'Engineer')
                          }
                          if (result.VehicleAttachFile != null) {
                              $('#lbvehicleAttachFile').html(result.VehicleAttachFile);
                              $('#hdupfilevehicleAttach').val(result.file_id__VehicleAttach);

                              $('#linkdownloadvehicle').text(result.VehicleAttachFile);
                              DownloadFile(result.VehicleAttachFile, $('#linkdownloadvehicle'), $('#hdEngineerId').val(), 'Engineer')
                          }

                          getDataPersonalById(result.PersonalId);

                          //$("#Team").val(result.TeamId).change();
                          $('#Team').val(result.TeamId);
                          $('#VehicleSerise').val(result.VehicleSerise).change();
                    }
                  },
                  error: function (result) {
                      console.log(result);
                  }

            });
        }


        function getDataPersonalById(id) {
              $.ajax({
                  url: '@Url.Action("GetDataPersonalById", "Engineer")',
                  type: 'POST',
                  data: { 'personalId': id},
                  dataType: "json",
                  success: function (result) {
                   if (result != null) {
                       //---personal name
                       $('#hdPersonalId').val(id);
                       $('#CitizenID2').val(result.CitizenId);
                       $("#Title").val(result.TitleName).change();

                      // $('#Title').val(result.TitleName);
                       $('#FullNameT').val(result.FullNameEn);
                       $('#FullNameE').val(result.FullNameTh);
                       //$('#BirthDate').val(result.BirthDate);

                       if (result.BirthDate) {
                           var d = new Date(result.BirthDate);
                           var month = d.getMonth();
                           var day = d.getDate();
                           var year = d.getFullYear();

                           $('#dateBirthDate').data("DateTimePicker").date(moment(new Date(year, month, day), 'DD/MM/YYYY'));
                       }


                       //Gender
                       if (result.Gender == "M") {
                       //    $('#rdoMale').val(result.Gender);
                           $("#rdoMale").prop("checked", true);
                       } else {
                          // $('#rdoFeMale').val(result.Gender);
                           $("#rdoFeMale").prop("checked", true);
                       }

                       $('#Race').val(result.Race);
                       $('#Nationality').val(result.Nationality);
                       $('#Religion').val(result.Religion);
                       $('#Identity').val(result.IdentityBy);
                       $('#ContractEmail2').val(result.ContactEmail);
                       $('#IdentiAddress').val(result.IdentityCardAddress);

                       $('#PersonalContractPhone1').val(result.ContactPhone1);

                       $('#PersonalContractPhone2').val(result.ContactPhone2);
                       $('#ContractMail').val(result.ContactEmail);
                       $('#WorkPermit').val(result.WorkPermitNo);
                       //$('#fileWorkPermitAttach').val(result.WorkPermitAttachFile);
                       //$('#fileProfileAttach').val(result.ProfileImgAttachFile);
                      // $('#CourseSkill').val(result.CourseSkill);
                       $('#Education').val(result.Education);

                       if (result.ThListening == "Y") {
                           $('#chkListenTH').prop('checked', true);
                       }
                       if (result.ThSpeaking == "Y") {
                           $('#chkSpeakingTH').prop('checked', true);
                       }

                       if (result.ThReading == "Y") {
                           $('#chkReadingTH').prop('checked', true);
                       }

                       if (result.ThWriting == "Y") {
                           $('#chkWritingTH').prop('checked', true);
                       }
                       if (result.EnListening == "Y") {
                           $('#chkListenEN').prop('checked', true);
                       }
                       if (result.EnSpeaking == "Y") {
                           $('#chkSpeakingEN').prop('checked', true);
                       }
                       if (result.EnReading == "Y") {
                           $('#chkReadingEN').prop('checked', true);
                       }
                       if (result.EnWriting == "Y") {
                           $('#chkWritingEN').prop('checked', true);
                       }


                       //$('#chkListenTH').val(result.ThListening);
                       //$('#chkSpeakingTH').val(result.ThSpeaking);
                       //$('#chkReadingTH').val(result.ThReading);
                       //$('#chkWritingTH').val(result.ThWriting);

                       //$('#chkListenEN').val(result.EnListening);
                       //$('#chkSpeakingEN').val(result.EnSpeaking);
                       //$('#chkReadingEN').val(result.EnReading);
                       //$('#chkWritingEN').val(result.EnWriting);

                       $('#CertificateType').val(result.CertificateType);
                       $('#CertificateNo').val(result.CertificateNo);
                       //$('#dateCertificateDate').val(result.CertificateExpireDate);
                       //$('#fileCertificateAttach').val(result.CertificateAttachFile);

                       if (result.CertificateExpireDate != null) {
                           var d = new Date(result.CertificateExpireDate);
                           var month = d.getMonth();
                           var day = d.getDate();
                           var year = d.getFullYear();

                           $('#datepickerCertificateDAte').data("DateTimePicker").date(moment(new Date(year, month, day), 'DD/MM/YYYY'));
                       }


                       $("#BankName2").val(result.BankCode).change();

                       $('#AccNo2').val(result.AccountNumber);
                       $('#AccName2').val(result.AccountName);

                       if (result.CertificateAttachFile != null) {
                           $('#lbfileCertificateAttach').html(result.CertificateAttachFile);
                           $('#hdupfileCertificateAttach').val(result.file_id__CertificateAttach);

                           $('#linkdownloadfileCertificate').text(result.CertificateAttachFile);
                           DownloadFile(result.CertificateAttachFile, $('#linkdownloadfileCertificate'), $('#hdPersonalId').val(), 'Personal')
                       }
                       if (result.WorkPermitAttachFile != null) {
                           $('#lbfileWorkPermitAttach').html(result.WorkPermitAttachFile);
                           $('#hdupfileWorkPermitAttach').val(result.file_id__WorkPermitAttach);

                           $('#linkdownloadfileWorkPermit').text(result.WorkPermitAttachFile);
                           DownloadFile(result.WorkPermitAttachFile, $('#linkdownloadfileWorkPermit'), $('#hdPersonalId').val(), 'Personal')
                       }
                       if (result.ProfileImgAttachFile != null) {
                           $('#lbfileProfileAttach').html(result.ProfileImgAttachFile);
                           $('#hdupfileProfileAttach').val(result.file_id__ProfileImgAttach);

                           $('#linkdownloadfileProfile').text(result.ProfileImgAttachFile);
                           DownloadFile(result.ProfileImgAttachFile, $('#linkdownloadfileProfile'), $('#hdPersonalId').val(), 'Personal')
                       }
                    }
                  },
                  error: function (result) {

                  }

            });
    }

        function onSave()
        {

            var modelPersonal = new Object();
            var model = new Object();

            var formData = new FormData();


            formData.append('model.EngineerId' , $('#hdEngineerId').val());
            formData.append('model.LocationId' , $("select[id$=Location]").val());
            formData.append('model.TeamId' , $("select[id$=Team]").val());
           // model.StaffCode = $('#StaffCode').val();
           // formData.append('model.StaffName',$('#StaffName').val());
            formData.append('model.StaffNameTh' , $('#StaffNameT').val());
            formData.append('model.StaffNameEn' , $('#StaffNameE').val());
            formData.append('model.Position', $('select[id$=Position]').val());
            formData.append('model.CitizenId' , $('#CitizenID').val());
            formData.append('model.TshirtSize', $('select[id$=tshirtsize]').val());
            formData.append('model.ContractPhone1' , $('#ContractPhone1').val());
            formData.append('model.ContractPhone2' , $('#ContractPhone2').val());
            formData.append('model.ContractEmail' , $('#ContractEmail').val());
            formData.append('model.VehicleType', $('select[id$=VehicleType]').val());
            formData.append('model.VehicleBrand', $('select[id$=VehicleBrand]').val());
            formData.append('model.VehicleSerise', $('select[id$=VehicleSerise]').val());
            formData.append('model.VehicleColor' , $('#VehicleColor').val());
            formData.append('model.VehicleYear' , $('#VehicleYear').val());
            formData.append('model.VehicleLicensePlate' , $('#VehicleLicense').val());
            formData.append('model.ToolOtrd' , $('#Toolotdr').val());
            formData.append('model.ToolSplicing', $('#ToolSplicing').val());
            formData.append('model.BankCode', $('#ddlBankName option:selected').val());
            formData.append('model.BankName', $('#ddlBankName option:selected').text());
            formData.append('model.AccountNo' , $('#AccNo').val());
            formData.append('model.AccountName' , $('#AccName').val());

            formData.append('model.CompanyId' , $('#hdCompanyId').val());

            //---personal name

            formData.append('personal.PersonalId' , $('#hdPersonalId').val());
            formData.append('personal.EngineerId' , $('#hdEngineerId').val());
            formData.append('personal.CitizenId' , $('#CitizenID2').val());
            formData.append('personal.TitleName' , $('#Title').val());
            formData.append('personal.FullNameEn' , $('#FullNameT').val());
            formData.append('personal.FullNameTh' , $('#FullNameE').val());
            formData.append('personal.dateBirthDay' , $('#BirthDate').val());

            //Gender
            if ($('#rdoMale').is(":checked")) {
                formData.append('personal.Gender' , "M");
            } else {
                formData.append('personal.Gender' , "F");
            }

            formData.append('personal.Race' , $('#Race').val());
            formData.append('personal.Nationality' , $('#Nationality').val());
            formData.append('personal.Religion' , $('#Religion').val());
            formData.append('personal.IdentityBy' , $('#Identity').val());
            formData.append('personal.ContactEmail' , $('#ContractEmail2').val());
            formData.append('personal.IdentityCardAddress' , $('#IdentiAddress').val());

            formData.append('personal.ContactPhone1' , $('#PersonalContractPhone1').val());
            formData.append('personal.ContactPhone2' , $('#PersonalContractPhone2').val());
            formData.append('personal.ContactEmail' , $('#ContractMail').val());
            formData.append('personal.WorkPermitNo' , $('#WorkPermit').val());
         //   modelPersonal.CourseSkill = $('#CourseSkill').val();
            formData.append('personal.Education' , $('#Education').val());


            if ($("#chkListenTH").is(":checked")) {
                formData.append('personal.ThListening', "Y");
            }
            else {
                formData.append('personal.ThListening', "N");
            }

            if ($("#chkSpeakingTH").is(":checked")) {
                formData.append('personal.ThSpeaking', "Y");
            }
            else {
                formData.append('personal.ThSpeaking', "N");
            }

            if ($("#chkReadingTH").is(":checked")) {
                formData.append('personal.ThReading', "Y");
            }
            else {
                formData.append('personal.ThReading', "N");
            }

            if ($("#chkWritingTH").is(":checked")) {
                formData.append('personal.ThWriting', "Y");
            }
            else {
                formData.append('personal.ThWriting', "N");
            }

            if ($("#chkListenEN").is(":checked")) {
                formData.append('personal.EnListening', "Y");
            }
            else {
                formData.append('personal.EnListening', "N");
            }

            if ($("#chkSpeakingEN").is(":checked")) {
                formData.append('personal.EnSpeaking', "Y");
            }
            else {
                formData.append('personal.EnSpeaking', "N");
            }

            if ($("#chkReadingEN").is(":checked")) {
                formData.append('personal.EnReading', "Y");
            }
            else {
                formData.append('personal.EnReading', "N");
            }

            if ($("#chkWritingEN").is(":checked")) {
                formData.append('personal.EnWriting', "Y");
            }
            else {
                formData.append('personal.EnWriting', "N");
            }

            //modelPersonal.ThListening = $('#chkListenTH').val();
            //modelPersonal.ThSpeaking = $('#chkSpeakingTH').val();
            //modelPersonal.ThReading = $('#chkReadingTH').val();
            //modelPersonal.ThWriting = $('#chkWritingTH').val();
            //modelPersonal.EnListening = $('#chkListenEN').val();
            //modelPersonal.EnSpeaking = $('#chkSpeakingEN').val();
            //modelPersonal.EnReading = $('#chkReadingEN').val();
            //modelPersonal.EnWriting = $('#chkWritingEN').val();

            formData.append('personal.CertificateType' , $('#CertificateType').val());
            formData.append('personal.CertificateNo' , $('#CertificateNo').val());
            formData.append('personal.dateCertificateExpireDate', $('#dateCertificateDAte').val());
            formData.append('personal.BankCode', $('#BankName2 option:selected').val());
            formData.append('personal.BankName', $('#BankName2 option:selected').text());
            formData.append('personal.AccountNumber' , $('#AccNo2').val());
            formData.append('personal.AccountName' , $('#AccName2').val());
            //model.BranchName = $('#BranchName').val();
            //model.BranchCode = $('#BranchCode').val();

            formData.append('model.File_PersonalAttach' , $('#personalAttahFile').get(0).files[0]);
            formData.append('model.File_VehicleAttach' , $('#vehicleAttachFile').get(0).files[0]);

            formData.append('personal.File_CertificateAttach' , $('#fileCertificateAttach').get(0).files[0]);
            formData.append('personal.File_WorkPermitAttach' , $('#fileWorkPermitAttach').get(0).files[0]);
            formData.append('personal.File_ProfileImgAttach', $('#fileProfileAttach').get(0).files[0]);

            formData.append('model.PersonalAttachFile', $('#lbpersonalAttahFile').text());
            formData.append('model.VehicleAttachFile', $('#lbvehicleAttachFile').text());


            formData.append('personal.CertificateAttachFile', $('#lbfileCertificateAttach').text());
            formData.append('personal.WorkPermitAttachFile', $('#lbfileWorkPermitAttach').text());
            formData.append('personal.ProfileImgAttachFile', $('#lbfileProfileAttach').text());


         $.ajax({
                   url: '@Url.Action("OnSave", "Engineer")',
                   type: 'POST',
                data: formData,
                cache: false,
                   //dataType: "json",
                processData: false,
                contentType: false,
                async: false,
                success: function (result) {
                       if (result.Status == true) {
                           if ($('#hdMode').val() == 'edit') {

                           } else {
                               bootbox.alert(result.Message);
                               clearData();
                           }

                           inittbSearchResult();
                           $('#AddEditModal').modal('hide');

                          }
                        else {
                               bootbox.alert(result.Message);

                            }
                  },
                  error: function (result) {
                      bootbox.alert(result.Message);
                  }

            });

        }

         function deleteData(Id,perid) {
           bootbox.confirm("@Localizer["QuestionDelete"]?"
            , function (result) {
            if (result == true) {
                 $.ajax({
                   url: '@Url.Action("OnDelete", "Engineer")',
                   type: 'POST',
                     data: { 'engineerId': Id, 'personalId': perid },
                   dataType: "json",
                     success: function (result) {
                         if (result.Status == true) {
                             inittbSearchResult();
                             bootbox.alert(result.Message);
                         }
                  },
                  error: function (result) {
                      bootbox.alert(result.Message);
                  }

            });
            }
        });
    }

//-------------search
function GetDropDownLocationSearch() {
        $.ajax({
            type: 'GET',
            url: '@Url.Action("GetLocationByCompany","Team")',
           // data: {stateid:stateid},
            dataType: 'json',
            success: function (data) {

                $("#ddlLocationName").empty();
                $("#ddlLocationName").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#ddlLocationName").append('<option value="' + result.LocationId + '">' + result.LocationNameTh +'</option>');
                    });
                },
                failure: function () {
                    $("#ddlLocationName").empty();
                    $("#ddlLocationName").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
    }


         function getTeamByLocationId(locationId) {
              $.ajax({
                  url: '@Url.Action("GetDataByLocationId", "Team")',
                  type: 'POST',
                  data: { 'locationId': locationId},
                  dataType: "json",
                  success: function (data) {
                      $("#ddlTeamName").empty();
                      $("#ddlTeamName").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');
                      $.each(data, function (id, result) {
                          $("#ddlTeamName").append('<option value="' + result.TeamId + '">' + result.TeamNameTh + '</option>');
                      });
                  },
                  failure: function () {
                      $("#ddlTeamName").empty();
                      $("#ddlTeamName").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');
                  }
              });
         }
//---------------------end

        //----------edit------------
        function GetDropDownLocationEdit() {
        $.ajax({
            type: 'GET',
            url: '@Url.Action("GetLocationByCompany","Team")',
           // data: {stateid:stateid},
            dataType: 'json',
            success: function (data) {

                $("#Location").empty();
                $("#Location").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#Location").append('<option value="' + result.LocationId + '">' + result.LocationNameTh +'</option>');
                    });
                },
                failure: function () {
                    $("#Location").empty();
                    $("#Location").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
    }


         function getTeamByLocationIdEdit(locationId) {
              $.ajax({
                  url: '@Url.Action("GetDataByLocationId", "Team")',
                  type: 'POST',
                  data: { 'locationId': locationId},
                  dataType: "json",
                  async: false,
                  success: function (data) {
                      $("#Team").empty();
                      $("#Team").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                      $.each(data, function (id, result) {
                          $("#Team").append('<option value="' + result.TeamId + '">' + result.TeamNameTh + '</option>');
                      });
                  },
                  failure: function () {
                      $("#Team").empty();
                      $("#Team").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                  }
              });
        }


         function GetDropDownBank() {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetBankName", "Engineer")',
           // data: {stateid:stateid},
            dataType: 'json',
            success: function (data) {

                $("#ddlBankName").empty();
                $("#ddlBankName").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#ddlBankName").append('<option value="' + result.BankCode + '">' + result.BankName +'</option>');
                    });
                },
                failure: function () {
                    $("#ddlBankName").empty();
                    $("#ddlBankName").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
        }


     function GetDropDownBankPersonal() {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetBankName", "Engineer")',
           // data: {stateid:stateid},
            dataType: 'json',
            success: function (data) {

                $("#BankName2").empty();
                $("#BankName2").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#BankName2").append('<option value="' + result.BankCode + '">' + result.BankName +'</option>');
                    });
                },
                failure: function () {
                    $("#BankName2").empty();
                    $("#BankName2").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
    }



     function GetDropDownTitle() {
        $.ajax({
            type: 'GET',
            url: '@Url.Action("GetTitleName", "Engineer")',
           // data: {stateid:stateid},
            dataType: 'json',
            success: function (data) {

                $("#Title").empty();
                $("#Title").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#Title").append('<option value="' + result.dropdown_text + '">' + result.dropdown_text +'</option>');
                    });
                },
                failure: function () {
                    $("#Title").empty();
                    $("#Title").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
        }


        function GetDDLVehicleType() {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetVehicleType", "Engineer")',
            dataType: 'json',
            success: function (data) {

                $("#VehicleType").empty();
                $("#VehicleType").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#VehicleType").append('<option value="' + result.VerhicleTypeId + '">' + result.VerhiclTypeName +'</option>');
                    });
                },
                failure: function () {
                    $("#VehicleType").empty();
                    $("#VehicleType").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
        }
        function GetDDLVehicleBrand() {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetVehicleBrand", "Engineer")',
            dataType: 'json',
            success: function (data) {

                $("#VehicleBrand").empty();
                $("#VehicleBrand").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#VehicleBrand").append('<option value="' + result.VerhicleBrandId + '">' + result.VerhicleBrandName +'</option>');
                    });
                },
                failure: function () {
                    $("#VehicleBrand").empty();
                    $("#VehicleBrand").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
        }
        function GetDDLVehicleSerise(id) {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetVehicleSerise", "Engineer")',
            data: { VerhicleBrandId: id},
            dataType: 'json',
            async: false,
            success: function (data) {

                $("#VehicleSerise").empty();
                $("#VehicleSerise").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#VehicleSerise").append('<option value="' + result.VerhicleSeriseId + '">' + result.VerhicleSeriseName +'</option>');
                    });
                },
                failure: function () {
                    $("#VehicleSerise").empty();
                    $("#VehicleSerise").append('<option value="">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
        }

        function GetDropDownSizeShirt() {
                 $.ajax({
            type: 'POST',
            url: '@Url.Action("GetSizeShirt", "Engineer")',
            dataType: 'json',
            success: function (data) {

                $("#tshirtsize").empty();
                $("#tshirtsize").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');
                $.each(data, function (id, result) {
                    $("#tshirtsize").append('<option value="' + result.dropdown_value + '">' + result.dropdown_text +'</option>');
                    });
                },
                failure: function () {
                    $('#tshirtsize').empty();
                    $("#tshirtsize").append('<option value="-1">--@Localizer["ddlPleaseSelect"]--</option>');
                }
            });
        }

        function DownloadFile(filename, linkdownload, id, type) {
            var urlDownloadfile = '@Url.Action("Downloadfile", "Engineer")';

            linkdownload.attr("href", urlDownloadfile + '?id=' + id + '&&filename=' + filename + '&&type='+type);

        }

        function CheckKeyUps(id, RexStr) {
            var strKey = $("#" + id).val();
            var strBuilder = "";
            var filter = new RegExp(RexStr);
            for (var i = 0; i < strKey.length; i++) {
                if (filter.test(strKey.substr(i, 1))) {
                    strBuilder += strKey.substr(i, 1);
                }
            }
            $("#" + id).val(strBuilder);
        }

        function CheckFileUpload(inputId) {
            var input = document.getElementById(inputId);
            var files = input.files[0];
            var formData = new FormData();

            //for (var i = 0; i != files.length; i++) {
                formData.append("files", files);
            //}

            $.ajax(
                {
                    type: "POST",
                    url: '@Url.Action("CheckFileUpload", "Engineer")',
                    processData: false,
                    contentType: false,
                    dataType: "json",
                    data: formData,
                    success: function (data) {
                        if (data.status) {
                            if (data.file_id != null) {
                                switch (inputId) {
                                    case "personalAttahFile": $('#hdupfilepersonalAttah').val(data.file_id); break;
                                    case "vehicleAttachFile": $('#hdupfilevehicleAttach').val(data.file_id); break;
                                    case "fileWorkPermitAttach": $('#hdupfileWorkPermitAttach').val(data.file_id); break;
                                    case "fileProfileAttach": $('#hdupfileProfileAttach').val(data.file_id); break;
                                    case "fileCertificateAttach": $('#hdupfileCertificateAttach').val(data.file_id); break;
                                }
                            }
                            else {
                                switch (inputId) {
                                    case "personalAttahFile": $('#lbpersonalAttahFile').text('@Localizer["ChooseFile"]'); break;
                                    case "vehicleAttachFile": $('#lbvehicleAttachFile').text('@Localizer["ChooseFile"]'); break;
                                    case "fileWorkPermitAttach": $('#lbfileWorkPermitAttach').text('@Localizer["ChooseFile"]'); break;
                                    case "fileProfileAttach": $('#lbfileProfileAttach').text('@Localizer["ChooseFile"]'); break;
                                    case "fileCertificateAttach": $('#lbfileCertificateAttach').text('@Localizer["ChooseFile"]'); break;
                                }
                            }

                        }
                        else {
                            $('#lbpersonalAttahFile').text('@Localizer["ChooseFile"]');
                            $('#lbvehicleAttachFile').text('@Localizer["ChooseFile"]');
                            $('#lbfileWorkPermitAttach').text('@Localizer["ChooseFile"]');
                            $('#lbfileProfileAttach').text('@Localizer["ChooseFile"]');
                            $('#lbfileCertificateAttach').text('@Localizer["ChooseFile"]');
                        }

                        bootbox.alert({
                            title: "System Information",
                            message: data.message,
                            size: "small",
                            callback: function (result) {
                                console.log('This was logged in the callback: ' + data.status);
                            }
                        });

                    },
                    error: function (xhr) {

                        console.log(xhr)
                    }
                }
            );
        }

        function ValidateUpload() {
            var hasError = false;
            if ($('#hdupfilepersonalAttah').val() == "") {
                hasError = true;
                $("#personalAttahFile").attr('required', 'required');
            }
            else {
                $("#personalAttahFile").removeAttr('required');
            }

            if ($('#hdupfilevehicleAttach').val() == "") {
                hasError = true;
                $("#vehicleAttachFile").attr('required', 'required');
            }
            else {
                $("#vehicleAttachFile").removeAttr('required');
            }

            //if ($('#hdupfileWorkPermitAttach').val() == "") {
            //    hasError = true;
            //    $("#fileWorkPermitAttach").attr('required', 'required');
            //}
            //else {
            //    $("#fileWorkPermitAttach").removeAttr('required');
            //}

            //if ($('#hdupfileProfileAttach').val() == "") {
            //    hasError = true;
            //    $("#fileProfileAttach").attr('required', 'required');
            //}
            //else {
            //    $("#fileProfileAttach").removeAttr('required');
            //}

            //if ($('#hdupfileCertificateAttach').val() == "") {
            //    hasError = true;
            //    $("#fileCertificateAttach").attr('required', 'required');
            //}
            //else {
            //    $("#fileCertificateAttach").removeAttr('required');
            //}

            return hasError;
        }

        function Validateform() {
            var resultBlacklist = CheckBlackList($('#CitizenID').val());
            var haserror = false;

            if ($('#Location option').filter(':selected').val() == '' || $('#Team option').filter(':selected').val() == '' ||
                //$('#StaffName').val() == '' ||
                $('#AccNo').val() == '' || $('#ddlBankName option').filter(':selected').val() == '' ||
                $('#AccName').val() == '' || $('#CitizenID').val() == '') {

                haserror = true;
            }
            else if (resultBlacklist.Status) {
                haserror = true;

                bootbox.alert(resultBlacklist.Message);

            }
            return haserror;
        }



        function CheckBlackList(idcard) {
            var jqXHR = $.ajax({
                type: 'POST',
                async: false,
                url: '@Url.Action("CheckBlacklist", "Engineer")',
                dataType: 'json',
                data: { id: idcard }
            });
            return jqXHR.responseJSON;
        }
    </script>
}
